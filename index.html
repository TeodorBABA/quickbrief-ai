<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Briefly | Executive Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #000; color: #fff; }
        .nav-glass { background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #111; }
        .news-card { border-bottom: 1px solid #111; transition: background 0.2s; }
        .news-card:hover { background: #050505; }
        .category-tag { font-size: 10px; font-weight: 800; tracking-widest: 0.1em; color: #3b82f6; }
        .filter-btn { color: #555; transition: 0.2s; font-size: 12px; font-weight: 600; }
        .filter-btn:hover { color: #fff; }
        .filter-btn.active { color: #fff; border-bottom: 2px solid #3b82f6; border-radius: 0; }
        ul li::before { content: "•"; color: #3b82f6; font-weight: bold; display: inline-block; width: 1em; margin-left: -1em; }
    </style>
</head>
<body>

    <nav class="nav-glass sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-800 tracking-tighter">BRIEFLY<span class="text-blue-600">.</span></h1>
            <div class="flex gap-6" id="filters">
                <button onclick="changeFilter('All', this)" class="filter-btn active py-1">All</button>
                <button onclick="changeFilter('Markets', this)" class="filter-btn py-1">Markets</button>
                <button onclick="changeFilter('Tech', this)" class="filter-btn py-1">Tech</button>
                <button onclick="changeFilter('Finance', this)" class="filter-btn py-1">Finance</button>
            </div>
        </div>
    </nav>

    <main class="max-w-2xl mx-auto px-6 py-12">
        <div class="mb-12 border-l-2 border-blue-600 pl-4">
            <p class="text-neutral-500 text-sm font-medium italic">"Intelligence is the ability to adapt to change."</p>
            <p class="text-[10px] text-neutral-700 font-bold uppercase tracking-widest mt-1">Updated every 15 minutes</p>
        </div>

        <div id="feed" class="space-y-2">
            </div>
    </main>

    <script>
        let allNews = [];
        async function load() {
            try {
                const r = await fetch('news_data.json?t=' + Date.now());
                allNews = await r.json();
                render('All');
            } catch (e) {
                document.getElementById('feed').innerHTML = "Connecting to global feed...";
            }
        }

        function render(cat) {
            const container = document.getElementById('feed');
            container.innerHTML = '';
            const filtered = cat === 'All' ? allNews : allNews.filter(n => n.category === cat);
            
            filtered.forEach(n => {
                const points = n.summary.split('\n').filter(p => p.trim() !== '');
                const listHtml = points.map(p => `<li class="mb-2">${p.replace(/^[•*-]\s*/, '')}</li>`).join('');

                container.innerHTML += `
                    <div class="news-card py-8">
                        <div class="flex items-center gap-4 mb-3">
                            <span class="category-tag uppercase">${n.category}</span>
                            <span class="text-neutral-700 text-[10px] font-bold">${n.date}</span>
                        </div>
                        <h2 class="text-xl font-600 mb-4 leading-tight text-neutral-200 hover:text-white transition-colors cursor-default">${n.title}</h2>
                        <ul class="text-neutral-400 text-sm ml-4 mb-6 leading-relaxed">
                            ${listHtml}
                        </ul>
                        <a href="${n.link}" target="_blank" class="text-[10px] font-bold text-neutral-600 hover:text-blue-500 tracking-widest uppercase transition-all">Source Material →</a>
                    </div>
                `;
            });
        }

        function changeFilter(cat, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            render(cat);
        }

        load();
        setInterval(load, 300000);
    </script>
</body>
</html>
